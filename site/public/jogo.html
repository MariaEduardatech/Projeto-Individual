<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Memory</title>
    <link rel="stylesheet" href="jogo.css">
</head>

<body>
    <div class="jogo">
        <ul class="cards">
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatobravoJogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatochocjogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatodesconfJogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatofestajogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatofofoJogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatomaoJogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatobravoJogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatochocjogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatodesconfJogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatofestajogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatofofoJogo.jpg" alt="">
                </div>
            </li>
            <li class="card">
                <div class="carta virada">
                    <span>?</span>
                </div>
                <div class="carta frente">
                    <img src="./assets/jogomemoria/gatomaoJogo.jpg" alt="">
                </div>
            </li>
        </ul>
    </div>
</body>

</html>
<script>
    var cards = document.querySelectorAll(".card");

    var cartasemPar = 0;
    var cartaUm, cartaDois;
var disableDeck = false;

    function virarCarta(e) {
        var clicarCarta = e.currentTarget;
        if (clicarCarta !== cartaUm && !disableDeck) {
            clicarCarta.classList.add("virar");
            if (!cartaUm) {
                return cartaUm = clicarCarta;
            }

            cartaDois = clicarCarta;
disableDeck = false;
            var cartaUmImg = cartaUm.querySelector(".frente img").src,
            cartaDoisImg = cartaDois.querySelector(".frente img").src;
            acharPares(cartaUmImg, cartaDoisImg);
        }

        console.log(cartaUm, cartaDois)
    }

function acharPares(img1, img2){
 if(img1 === img2){
    cartasemPar++;
    if(cartasemPar == 6){
        setTimeout(() => {
            return embaralharCartas();
        }, 1000);
    }
    cartaUm.removeEventListener("clicar", virarCarta);
    cartaDois.removeEventListener("clicar", virarCarta);
    cartaUm = cartaDois = "";
    return disableDeck = false;
}

setTimeout(() =>{
cartaUm.classList.add("shake");
cartaDois.classList.add("shake");
}, 400);

setTimeout(() =>{
cartaUm.classList.remove("shake", "virar");
cartaDois.classList.remove("shake", "virar");
cartaUm = cartaDois = ""
}, 1200);
}

function embaralharCartas(){
    cartasemPar = 0;
    cartaUm = cartaDois = "";
    disableDeck = false;
    var lista = [1, 2, 3, 4, 5, 6, 1, 2, 3, 4, 5, 6];
    lista.sort(() => Math.random() > 0.5 ? 1 : -1)

         cards.forEach((card, i) => {
            card.classList.remove("virar");
            var imgTag = card.querySelector("img");
            // imgTag.src = `./assets/jogomemoria/${lista[i]}.jpg`
        card.addEventListener("click", virarCarta);
    });
}

embaralharCartas();

    cards.forEach(card => {
        card.addEventListener("click", virarCarta);
    });
</script>